{"version":3,"sources":["components/App.js","utils/apiDomain.js","components/Login.js","components/Pages/HomePage.js","components/Pages/LogoutPage.js","hooks/useCheckUser.js","utils/ItemTypes.js","components/ProjectTab.js","components/Navbar.js","components/UserTab.js","components/PageHeader.js","components/StageRename.js","components/Task.js","components/TaskCreator.js","components/Stage.js","components/StageCreator.js","components/Pages/ProjectPage.js","components/Pages/SignupPage.js","components/Pages/UnsavedProjectPage.js","components/ProjectsList.js","components/Pages/UserPage.js","reportWebVitals.js","state/projectReducer.js","state/userReducer.js","state/rootReducer.js","index.js"],"names":["App","apiDomain","window","location","hostname","Login","props","dispatch","useDispatch","navigate","useNavigate","user","useSelector","state","shallowEqual","e","a","preventDefault","email","document","getElementById","password","request","method","cache","headers","body","JSON","stringify","value","fetch","URL","response","ok","json","result","console","log","type","payload","token","message","useEffect","id","setTimeout","onSubmit","HomePage","className","alt","src","href","placeholder","to","LogoutPage","Authorization","useCheckUser","userId","ItemTypes","ProjectTab","index","title","reorderProject","loadProject","ref","useRef","useDrop","accept","hover","item","monitor","current","sourceIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleX","right","left","hoverClientX","getClientOffset","x","drop","useDrag","collect","isDragging","opacity","drag","style","onClick","NavPane","useState","open","toggleOpen","projects","handleCreateProject","useCallback","status","stages","renderProject","projectTitle","createProject","htmlFor","height","viewBox","version","width","fillRule","d","map","project","UserTab","name","PageHeader","TaskCreator","projectId","stageId","stageIndex","titleField","target","querySelector","stage","class","for","maxLength","Task","taskIndex","task","tasks","handleDeleteTask","maxlength","Stage","taskList","role","handleDeleteStage","StageCreator","required","ProjectPage","stageList","backend","HTML5Backend","SignupPage","UnsavedProjectPage","ProjectsList","listProjects","handleLoadProject","handleDeleteProject","UserPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","prevState","action","splice","flag","concat","filter","findIndex","ReactDOM","render","StrictMode","store","createStore","path","element"],"mappings":"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","file":"static/js/main.4c27d28f.chunk.js","sourcesContent":["import { Outlet } from \"react-router-dom\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <>\r\n      <Outlet />\r\n    </>\r\n  );\r\n}\r\n","export const apiDomain =\r\n  window.location.hostname === \"localhost\"\r\n    ? \"http://localhost:5000\"\r\n    : \"https://taskflow.herokuapp.com\";\r\n","import { useEffect } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function Login(props) {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      setTimeout(() => {\r\n        navigate(`../user/${user.id}`);\r\n      }, 1500);\r\n    }\r\n  }, [user.id, navigate]);\r\n\r\n  async function handleLogin(e) {\r\n    e.preventDefault();\r\n    const email = document.getElementById(\"user-email\");\r\n    const password = document.getElementById(\"user-password\");\r\n    const request = {\r\n      method: \"POST\",\r\n      cache: \"no-store\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: email.value,\r\n        password: password.value,\r\n      }),\r\n    };\r\n    const response = await fetch(`${URL}/api/users/login`, request);\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({\r\n        type: \"user/loggedIn\",\r\n        payload: { ...result.user, token: result.token },\r\n      });\r\n    } else {\r\n      const result = await response.json();\r\n      console.log(result.message || response);\r\n      dispatch({ type: \"user/failedLogin\" });\r\n    }\r\n    email.value = \"\";\r\n    password.value = \"\";\r\n  }\r\n\r\n  return !user.id ? (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <p>Email</p>\r\n        <input id=\"user-email\" type=\"text\" />\r\n        <p>Password</p>\r\n        <input id=\"user-password\" type=\"text\" />\r\n        <button type=\"submit\">Log In</button>\r\n      </form>\r\n    </div>\r\n  ) : (\r\n    <h1>You are logged in and will be redirected</h1>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { apiDomain as URL } from \"../../utils/apiDomain\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function HomePage() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      setTimeout(() => {\r\n        navigate(`../user/${user.id}`);\r\n      }, 1500);\r\n    }\r\n  }, [user.id, navigate]);\r\n\r\n  async function handleLogin(e) {\r\n    e.preventDefault();\r\n    const email = document.getElementById(\"user-email\");\r\n    const password = document.getElementById(\"user-password\");\r\n    const request = {\r\n      method: \"POST\",\r\n      cache: \"no-store\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        email: email.value,\r\n        password: password.value,\r\n      }),\r\n    };\r\n    const response = await fetch(`${URL}/api/users/login`, request);\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({\r\n        type: \"user/loggedIn\",\r\n        payload: { ...result.user, token: result.token },\r\n      });\r\n    } else {\r\n      const result = await response.json();\r\n      console.log(result.message || response);\r\n      dispatch({ type: \"user/failedLogin\" });\r\n    }\r\n    email.value = \"\";\r\n    password.value = \"\";\r\n  }\r\n\r\n  return (\r\n    <main className=\"home\">\r\n      <img className=\"logo\" alt=\"Taskflow.tech\" src=\"/logo.png\" />\r\n      <h1><a href=\"/\">Taskflow.tech</a></h1>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <input id=\"user-email\" type=\"text\" placeholder=\"E-mail\" />\r\n        <input id=\"user-password\" type=\"password\" placeholder=\"Password\" />\r\n        <button type=\"submit\">Log In</button>\r\n      </form>\r\n      <h3><Link to=\"/signup\">Sign Up</Link></h3>\r\n    </main>\r\n  );\r\n}\r\n\r\n\r\n","import { useEffect } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { apiDomain as URL } from \"../../utils/apiDomain\";\r\n\r\nexport default function LogoutPage() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const token = useSelector((state) => state.user.token, shallowEqual);\r\n\r\n  /* Note: this effect currently runs twice: once when LogoutPage loads, then again after\r\n  dispatch removes the token. This is an inconsequential yet annoying problem to solve */\r\n  useEffect(() => {\r\n    (async () => {\r\n      const request = {\r\n        method: \"POST\",\r\n        cache: \"no-store\",\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      };\r\n      console.log(request);\r\n      const response = await fetch(`${URL}/api/users/logout`, request);\r\n      console.log(response);\r\n    })();\r\n    dispatch({ type: \"user/loggedOut\" });\r\n    setTimeout(() => {\r\n      navigate(\"/\");\r\n    }, 1500);\r\n  }, [token, navigate, dispatch]);\r\n\r\n  return <h2>You have been logged out and will be redirected</h2>;\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function useCheckUser() {\r\n  const userId = useSelector((state) => state.user.id);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!userId) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [userId, navigate]);\r\n}\r\n","export const ItemTypes = {\r\n  PROJECTTAB: \"projectTab\",\r\n  TEST: \"test\",\r\n\r\n  //TODO: add stage, item\r\n};\r\n","import { useRef } from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { ItemTypes } from \"../utils/ItemTypes\";\r\n\r\nexport default function ProjectTab({\r\n  index,\r\n  title,\r\n  reorderProject,\r\n  loadProject,\r\n}) {\r\n  const ref = useRef(null);\r\n\r\n  const [, drop] = useDrop({\r\n    accept: ItemTypes.PROJECTTAB, //change PROJECT to PROJECTTAB\r\n    hover(item, monitor) {\r\n      if (!ref.current) {\r\n        return;\r\n      }\r\n      // The source index where item is being dragged from\r\n      const sourceIndex = item.index;\r\n      // Index of current hover position\r\n      const hoverIndex = index;\r\n      // Don't replace items with themselves\r\n      if (sourceIndex === hoverIndex) {\r\n        return;\r\n      }\r\n      // Determine rectangle on screen\r\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n      // Get horizontal middle\r\n      const hoverMiddleX =\r\n        (hoverBoundingRect.right - hoverBoundingRect.left) / 2;\r\n      // Determine mouse position\r\n      const clientOffset = monitor.getClientOffset();\r\n      // Get pixels to the top\r\n      const hoverClientX = clientOffset.x - hoverBoundingRect.left;\r\n      //Only perform the move when the mouse has crossed half of the item's height\r\n      // When dragging leftwards, only move when the cursor is left of 50%\r\n      // When dragging downwards, only move when the cursor is above 50%\r\n      if (sourceIndex < hoverIndex && hoverClientX < hoverMiddleX) {\r\n        return;\r\n      }\r\n      if (sourceIndex > hoverIndex && hoverClientX > hoverMiddleX) {\r\n        return;\r\n      }\r\n      reorderProject(sourceIndex, hoverIndex);\r\n      item.index = hoverIndex;\r\n    },\r\n  });\r\n\r\n  const [{ isDragging }, drag] = useDrag({\r\n    type: ItemTypes.PROJECTTAB,\r\n    item: () => {\r\n      return { title, index };\r\n    },\r\n    collect: (monitor) => {\r\n      return { isDragging: monitor.isDragging() };\r\n    },\r\n  });\r\n\r\n  const opacity = isDragging ? 0 : 1;\r\n\r\n  drag(drop(ref));\r\n\r\n  return (\r\n    <li ref={ref} style={{ opacity }}>\r\n      <button className=\"btn\" onClick={() => loadProject(title)}>\r\n        {title}\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/Navbar.css\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\nimport ProjectTab from \"./ProjectTab\";\r\n\r\nexport default function NavPane(props) {\r\n  const [open, toggleOpen] = useState(false);\r\n  const projects = useSelector((state) => state.user.projects, shallowEqual);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  /* On each local state.projects change, send update to server */\r\n  useEffect(async () => {\r\n    const request = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ projects: projects }),\r\n    };\r\n    const response = await fetch(`${URL}/api/users/${user.id}`, request);\r\n    if (response.ok) {\r\n      console.log(response);\r\n    } else console.log(projects);\r\n  }, [projects, user.token]);\r\n\r\n  const handleCreateProject = useCallback(\r\n    async (e) => {\r\n      e.preventDefault();\r\n      // TODO add blank title error handling\r\n      const request = {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          title: `${document.getElementById(\"new-project-title\").value}`,\r\n        }),\r\n      };\r\n      const response = await fetch(`${URL}/api/projects/`, request);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log(result);\r\n        dispatch({ type: \"project/created\", payload: result });\r\n        toggleOpen(false);\r\n      } else {\r\n        console.log(response.status);\r\n      }\r\n    },\r\n    [user.token, dispatch]\r\n  );\r\n\r\n  const loadProject = useCallback(\r\n    async (id) => {\r\n      const request = {\r\n        method: \"GET\",\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      };\r\n      const response = await fetch(`${URL}/api/projects/${id}`, request);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        console.log(result);\r\n        dispatch({\r\n          type: \"project/loaded\",\r\n          payload: { id: id, stages: result },\r\n        });\r\n        navigate(`../project/${id}`);\r\n      } else {\r\n        // error handling will be extremely tough here\r\n        console.log(response.status);\r\n      }\r\n    },\r\n    [user.token, dispatch, navigate]\r\n  );\r\n\r\n  /* reorder projects in frontend (request is triggered in useEffect) */\r\n  const reorderProject = useCallback(\r\n    (sourceIndex, hoverIndex) => {\r\n      console.log(sourceIndex, hoverIndex);\r\n      dispatch({\r\n        type: \"user/reorderProject\",\r\n        payload: {\r\n          sourceIndex: sourceIndex,\r\n          hoverIndex: hoverIndex,\r\n        },\r\n      });\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const renderProject = useCallback(\r\n    (projectTitle, index) => {\r\n      // TODO: Change to project.id\r\n      return (\r\n        <ProjectTab\r\n          key={projectTitle}\r\n          index={index}\r\n          title={projectTitle}\r\n          reorderProject={reorderProject}\r\n          loadProject={loadProject}\r\n        />\r\n      );\r\n    },\r\n    [reorderProject, loadProject]\r\n  );\r\n\r\n  const createProject = open ? ( // TODO: break into separate components\r\n    <div className=\"overlay\">\r\n      <div className=\"overlay-inner\">\r\n        <form id=\"new-project-creator\" onSubmit={handleCreateProject}>\r\n          <label htmlFor=\"new-project-title\">New Project:</label>\r\n          <input id=\"new-project-title\" />\r\n          <div className=\"two-button mt-2\">\r\n            <button id=\"submit\">Create Project</button>\r\n            <button\r\n              className=\"btn-close-task-creator ml-1\"\r\n              onClick={() => toggleOpen(false)}\r\n              type=\"button\"\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <li className=\"add-project\">\r\n      <button onClick={() => toggleOpen(true)} title=\"Add new project\">\r\n        <svg\r\n          height=\"16\"\r\n          viewBox=\"0 0 16 16\"\r\n          version=\"1.1\"\r\n          width=\"16\"\r\n          data-view-component=\"true\"\r\n        >\r\n          <path\r\n            fillRule=\"evenodd\"\r\n            d=\"M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z\"\r\n          ></path>\r\n        </svg>\r\n      </button>\r\n    </li>\r\n  );\r\n\r\n  return (\r\n    <nav id=\"navbar\">\r\n      <ul className=\"tabrow\">\r\n        {projects?.map((project, index) => renderProject(project, index))}\r\n        {createProject}\r\n      </ul>\r\n      <br />\r\n    </nav>\r\n  );\r\n}\r\n","import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport \"../styles/UserTab.css\";\r\n\r\nexport default function UserTab() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  function handleNavUserPanel(e) {\r\n    e.preventDefault();\r\n    dispatch({ type: \"project/unloaded\" });\r\n    navigate(`user/${user.id}`);\r\n  }\r\n\r\n  return user.id ? (\r\n    <div id=\"user-tab\" className=\"float-right\">\r\n      <button id=\"btn-user\" onClick={handleNavUserPanel}>\r\n        {user.name || \"Anonymous User\"}\r\n      </button>\r\n      <Link to=\"logout\" id=\"btn-logout\">\r\n        Log Out\r\n      </Link>\r\n    </div>\r\n  ) : (\r\n    <div id=\"user-tab\">\r\n      <Link to=\"login\" id=\"btn-login\">\r\n        Log In\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from \"react-redux\";\r\nimport \"../styles/PageHeader.css\";\r\nimport UserTab from \"./UserTab\";\r\n\r\nexport default function PageHeader() {\r\n  const projectTitle = useSelector((state) => state.project.id);\r\n\r\n  console.log(\"rendering PageHeader\");\r\n\r\n  return (\r\n    <header id=\"page-header\">\r\n      <img className=\"logo\" alt=\"logo\" src=\"/logo-smol.png\" />\r\n      <UserTab />\r\n      {!projectTitle && (\r\n        <h2 id=\"app-subtitle\">Collaborative Project Management</h2>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport \"../styles/TaskCreator.css\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function TaskCreator({ projectId, stageId, stageIndex }) {\r\n  const [open, toggleOpen] = useState(false);\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleEditStageName(id) {\r\n    const titleField = id.target.querySelector(\".rename\");\r\n    console.log(titleField)\r\n    console.log(titleField.value)\r\n    const request = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        title: `${titleField.value}`,\r\n      }),\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages/${id}`,\r\n      request\r\n    );\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({ type: \"stage/updated\", payload: { stage: result } });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  return open ? (\r\n    <div class=\"overlay\">\r\n      <div class=\"overlay-inner\">\r\n        <form className=\"stage-rename\" onSubmit={handleEditStageName}>\r\n          <label for=\"rename\">Rename Stage:</label>\r\n          <input type=\"text\" className=\"rename\" maxLength=\"30\" />\r\n          <div className=\"two-button mt-2\">\r\n            <button className=\"btn-stage-rename mr-1\" type=\"submit\">\r\n              Rename\r\n            </button>\r\n            <button className=\"btn-close-stage-rename ml-1\" onClick={() => toggleOpen(false)} type=\"button\" >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <button className=\"btn\" onClick={() => toggleOpen(true)} >\r\n      Rename Stage\r\n    </button>\r\n  );\r\n}\r\n","import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport \"../styles/Task.css\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function Task({ taskIndex, stageIndex, stageId, projectId }) {\r\n  const task = useSelector(\r\n    (state) => state.project.stages[stageIndex].tasks[taskIndex]\r\n  );\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleDeleteTask() {\r\n    const request = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages/${stageId}/tasks/${task.id}`,\r\n      request\r\n    );\r\n    if (response) {\r\n      console.log(\"response received\");\r\n    }\r\n    if (response.ok) {\r\n      console.log(\"dispatching delete\");\r\n      dispatch({\r\n        type: \"task/deleted\",\r\n        payload: { id: task.id, stageId: stageId },\r\n      });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"task\">\r\n      <p className=\"float-left\">{task.title}</p>\r\n      <button className=\"btn-task-settings float-right\">⚙️</button>\r\n      <button\r\n        className=\"btn-task-delete float-right\"\r\n        onClick={() => handleDeleteTask()}\r\n      >\r\n        ❌\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function TaskCreator({ projectId, stageId, stageIndex }) {\r\n  const [open, toggleOpen] = useState(false);\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleCreateTask(e) {\r\n    e.preventDefault();\r\n    const titleField = e.target.querySelector(\".new-task-title\");\r\n    const request = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        title: `${titleField.value}`,\r\n      }),\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages/${stageId}/tasks`,\r\n      request\r\n    );\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({\r\n        type: \"task/created\",\r\n        payload: { task: { ...result }, stageId: stageId },\r\n      });\r\n      titleField.value = \"\";\r\n    } else {\r\n      console.log(response);\r\n    }\r\n  }\r\n\r\n  /*  TODO: add disabled=\"\" to Create Task button\r\n            requires js to remove if content in text area */\r\n\r\n  return open ? (\r\n    <div className=\"task-creator\">\r\n      <form onSubmit={handleCreateTask}>\r\n        <textarea\r\n\t  className=\"new-task-title\"\r\n\t  placeholder=\"Enter a task\"\r\n\t  maxlength=\"31\">\r\n\t</textarea>\r\n\t<div className=\"two-button mt-2\">\r\n          <button className=\"btn-create-task mr-1\" type=\"submit\">\r\n            Create Task\r\n          </button>\r\n          <button\r\n            className=\"btn-close-task-creator ml-1\"\r\n            onClick={() => toggleOpen(false)}\r\n            type=\"button\"\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  ) : (\r\n    <div className=\"task-creator float-right\">\r\n      <button\r\n        className=\"btn-open-task-creator\"\r\n        onClick={() => toggleOpen(true)}\r\n      >\r\n        <svg height=\"16\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" data-view-component=\"true\" className=\"mr-2\">\r\n          <path fillRule=\"evenodd\" d=\"M7.75 2a.75.75 0 01.75.75V7h4.25a.75.75 0 110 1.5H8.5v4.25a.75.75 0 11-1.5 0V8.5H2.75a.75.75 0 010-1.5H7V2.75A.75.75 0 017.75 2z\"></path>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport \"../styles/Stages.css\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\nimport StageRename from \"./StageRename\";\r\nimport Task from \"./Task\";\r\nimport TaskCreator from \"./TaskCreator\";\r\n\r\nexport default function Stage({ id, stageIndex, projectId }) {\r\n  console.log(`Rendering stage ${stageIndex}`);\r\n  const stage = useSelector((state) => state.project.stages[stageIndex]);\r\n  const tasks = useSelector((state) => state.project.stages[stageIndex].tasks);\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleDeleteStage(id) {\r\n    const request = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages/${id}`,\r\n      request\r\n    );\r\n    if (response.ok) {\r\n      dispatch({ type: \"stage/deleted\", payload: { id: id } });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  const taskList = tasks\r\n    ? tasks.map((task, index) => {\r\n        return (\r\n          <Task\r\n            key={task.id}\r\n            taskIndex={index}\r\n            stageIndex={stageIndex}\r\n            stageId={id}\r\n            projectId={projectId}\r\n          />\r\n        );\r\n      })\r\n    : null;\r\n\r\n  return (\r\n    <section className=\"stage\" key={id}>\r\n      <div className=\"stage-header\">\r\n        <details className=\"dropdown\">\r\n          <summary className=\"\" role=\"button\">\r\n            <h3 className=\"stage-title\">{stage.title}</h3>\r\n            <svg\r\n              height=\"16\"\r\n              viewBox=\"0 0 16 16\"\r\n              version=\"1.1\"\r\n              width=\"16\"\r\n              data-view-component=\"true\"\r\n              className=\"float-right\"\r\n            >\r\n              <path d=\"M8 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM1.5 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm13 0a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"></path>\r\n            </svg>\r\n            <TaskCreator\r\n              projectId={projectId}\r\n              stageId={stage.id}\r\n              stageIndex={stageIndex}\r\n            />\r\n          </summary>\r\n          <span className=\"dropdown-content mt-4\">\r\n            <ul>\r\n              <li>\r\n                <StageRename\r\n                  projectId={projectId}\r\n                  stageId={stage.id}\r\n                  stageIndex={stageIndex}\r\n                />\r\n              </li>\r\n              <li>\r\n                <button className=\"btn\" onClick={() => handleDeleteStage(id)}>\r\n                  Delete Stage\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </span>\r\n        </details>\r\n      </div>\r\n      {taskList}\r\n    </section>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function StageCreator({ projectId }) {\r\n  const [open, toggleOpen] = useState(false);\r\n  //const toggleOpen = useState(false);\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n  const dispatch = useDispatch();\r\n\r\n  async function handleCreateStage(e) {\r\n    e.preventDefault();\r\n    const request = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        title: `${document.getElementById(\"new-stage-title\").value}`,\r\n      }),\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages`,\r\n      request\r\n    );\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({ type: \"stage/created\", payload: result });\r\n      toggleOpen(false);\r\n    } else {\r\n      console.log(response);\r\n    }\r\n  }\r\n\r\n  async function handleEditStageName(id) {\r\n    const titleField = id.target.querySelector(\".rename\");\r\n    console.log(titleField);\r\n    console.log(titleField.value);\r\n    const request = {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        title: `${titleField.value}`,\r\n      }),\r\n    };\r\n    const response = await fetch(\r\n      `${URL}/api/projects/${projectId}/stages/${id}`,\r\n      request\r\n    );\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({ type: \"stage/updated\", payload: { stage: result } });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  return open ? (\r\n    <div class=\"overlay\">\r\n      <div class=\"overlay-inner\">\r\n        <form onSubmit={handleCreateStage}>\r\n          <label for=\"new-stage-title\">Create Stage:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"new-stage-title\"\r\n            maxLength=\"29\"\r\n            required\r\n          ></input>\r\n          <div className=\"two-button mt-2\">\r\n            <button className=\"btn-create-stage\" type=\"submit\">\r\n              Create Stage\r\n            </button>\r\n            <button\r\n              className=\"btn-toggle-stage-creator\"\r\n              onClick={() => toggleOpen(false)}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <section className=\"stage create\">\r\n      <button className=\"btn\" onClick={() => toggleOpen(true)}>\r\n        Create Stage\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n","/* Main Component displays either project interface or project selection menu */\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport useCheckUser from \"../../hooks/useCheckUser\";\r\nimport \"../../styles/ProjectPage.css\";\r\nimport Navbar from \"../Navbar\";\r\nimport PageHeader from \"../PageHeader\";\r\nimport Stage from \"../Stage\";\r\nimport StageCreator from \"../StageCreator\";\r\n\r\nexport default function ProjectPage() {\r\n  const projectId = useSelector((state) => state.project.id);\r\n  const stages = useSelector((state) => state.project.stages, shallowEqual);\r\n\r\n  console.log(\"project page render\");\r\n\r\n  useCheckUser();\r\n\r\n  const stageList = stages\r\n    ? stages.map((stage, index) => {\r\n        return (\r\n          <Stage\r\n            key={stage.id}\r\n            id={stage.id}\r\n            stageIndex={index}\r\n            projectId={projectId}\r\n          />\r\n        );\r\n      })\r\n    : null;\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <PageHeader />\r\n      <Navbar />\r\n      <main>\r\n        <div id=\"project-board\">\r\n          <div id=\"stages-panel\">\r\n            {stageList}\r\n            {/* {projectId ? <StageList /> : <ProjectsList />}\r\n            <hr /> */}\r\n            <StageCreator projectId={projectId} />\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </DndProvider>\r\n  );\r\n}\r\n","import { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { apiDomain as URL } from \"../../utils/apiDomain\";\r\n\r\nexport default function SignupPage() {\r\n  const dispatch = useDispatch();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  async function handleSignup(e) {\r\n    e.preventDefault();\r\n    const name = document.getElementById(\"user-name\");\r\n    const email = document.getElementById(\"user-email\");\r\n    const password = document.getElementById(\"user-password\");\r\n    const request = {\r\n      method: \"POST\",\r\n      cache: \"no-store\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        name: name.value,\r\n        email: email.value,\r\n        password: password.value,\r\n      }),\r\n    };\r\n    console.log(request);\r\n    const response = await fetch(`${URL}/api/users`, request);\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({\r\n        type: \"user/created\",\r\n        payload: { ...result.user, token: result.token },\r\n      });\r\n    } else {\r\n      const result = await response.json();\r\n      console.log(result.message || response);\r\n      dispatch({ type: \"user/failedLogin\" });\r\n    }\r\n    name.value = \"\";\r\n    email.value = \"\";\r\n    password.value = \"\";\r\n  }\r\n\r\n  return !user.id ? (\r\n    <main id=\"signup-page\">\r\n      Sign Up:\r\n      <form onSubmit={handleSignup}>\r\n        <span>User Name: </span>\r\n        <input id=\"user-name\" type=\"text\" />\r\n        <br />\r\n        <span>Email: </span>\r\n        <input id=\"user-email\" type=\"text\" />\r\n        <br />\r\n        <span>Password: </span>\r\n        <input id=\"user-password\" type=\"text\" />\r\n        <button type=\"submit\">Sign Up</button>\r\n      </form>\r\n    </main>\r\n  ) : (\r\n    <h1>User is logged in</h1>\r\n  );\r\n}\r\n","export default function UnsavedProjectPage() {\r\n  return <h1>Unsaved Project</h1>;\r\n}\r\n","/* Nomenclature: when creating a new project, the intended name */\r\n/* of the project is called \"title\", until it is sent to database */\r\n/* and created, after which the project's name is referred to as \"id\" */\r\n\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/ProjectsList.css\";\r\nimport { apiDomain as URL } from \"../utils/apiDomain\";\r\n\r\nexport default function ProjectsList() {\r\n  const dispatch = useDispatch();\r\n  const projects = useSelector((state) => state.user.projects, shallowEqual);\r\n  const navigate = useNavigate();\r\n  const user = useSelector((state) => state.user, shallowEqual);\r\n\r\n  async function handleCreateProject(e) {\r\n    e.preventDefault();\r\n    // TODO add blank title error handling\r\n    const request = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        title: `${document.getElementById(\"new-project-title\").value}`,\r\n      }),\r\n    };\r\n    const response = await fetch(`${URL}/api/projects/`, request);\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({ type: \"project/created\", payload: result });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  async function handleDeleteProject(id) {\r\n    const request = {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const response = await fetch(`${URL}/api/projects/${id}`, request);\r\n    if (response.ok) {\r\n      dispatch({ type: \"project/deleted\", payload: { id: id } });\r\n    } else {\r\n      console.log(response.status);\r\n    }\r\n  }\r\n\r\n  async function handleLoadProject(id) {\r\n    const request = {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n    const response = await fetch(`${URL}/api/projects/${id}`, request);\r\n    if (response.ok) {\r\n      const result = await response.json();\r\n      console.log(result);\r\n      dispatch({\r\n        type: \"project/loaded\",\r\n        payload: { id: id, stages: result },\r\n      });\r\n      navigate(`../project/${id}`);\r\n    }\r\n  }\r\n\r\n  const listProjects = projects\r\n    ? projects.map((id) => {\r\n        return (\r\n          //TODO: Change to project.id\r\n          <li key={id}>\r\n            {id}\r\n            <button onClick={() => handleLoadProject(id)}>Edit</button>\r\n            <button onClick={() => handleDeleteProject(id)}>Delete</button>\r\n          </li>\r\n        );\r\n      })\r\n    : null;\r\n\r\n  return (\r\n    <div id=\"projects-menu\">\r\n      {projects && <ul id=\"projects-list\">{listProjects}</ul>}\r\n      <form id=\"new-project-creator\" onSubmit={handleCreateProject}>\r\n        <h3>Create a new project</h3>\r\n        <h3>Titled:</h3>\r\n        <input id=\"new-project-title\" />\r\n        <button id=\"submit\">Create Project</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import useCheckUser from \"../../hooks/useCheckUser\";\r\nimport ProjectsList from \"../ProjectsList\";\r\n\r\nexport default function UserPage() {\r\n  useCheckUser();\r\n\r\n  return <ProjectsList />;\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const initialState = {\r\n  id: null,\r\n  title: \"\",\r\n  stages: [],\r\n};\r\n\r\nexport default function projectReducer(prevState = initialState, action) {\r\n  let state = { ...prevState }; //mutate new state not prevState\r\n\r\n  switch (action.type) {\r\n    case \"project/created\": {\r\n      state = action.payload;\r\n      state.stages = [];\r\n      return state;\r\n    }\r\n    case \"project/loaded\": {\r\n      // not yet used\r\n      state = action.payload;\r\n      return state;\r\n    }\r\n    case \"project/unloaded\": {\r\n      return initialState;\r\n    }\r\n    case \"project/deleted\": {\r\n      console.log(action.payload.id);\r\n      if (action.payload.id === state.id) {\r\n        return initialState;\r\n      }\r\n      return state;\r\n    }\r\n    case \"stage/created\": {\r\n      console.log(action.payload);\r\n      state.stages = state.stages.concat(action.payload);\r\n      return state;\r\n    }\r\n    case \"stage/updated\": {\r\n      console.log(action.payload);\r\n      const stageId = action.payload.stage.id;\r\n      const index = state.stages.findIndex((stage) => stage.id === stageId);\r\n      state.stages[index] = action.payload.stage;\r\n      return state;\r\n    }\r\n    case \"stage/deleted\": {\r\n      state.stages = state.stages.filter(\r\n        (stage) => stage.id !== action.payload.id\r\n      );\r\n      return state;\r\n    }\r\n    case \"task/created\": {\r\n      console.log(action.payload);\r\n      const stageId = action.payload.stageId;\r\n      const index = state.stages.findIndex((stage) => stage.id === stageId);\r\n      const task = action.payload.task;\r\n      state.stages[index].tasks = state.stages[index].tasks.concat(task);\r\n      return state;\r\n    }\r\n    case \"task/deleted\": {\r\n      console.log(action.payload);\r\n      const stageIndex = state.stages.findIndex(\r\n        (stage) => stage.id === action.payload.stageId\r\n      );\r\n      state.stages[stageIndex].tasks = state.stages[stageIndex].tasks.filter(\r\n        (task) => task.id !== action.payload.id\r\n      );\r\n      return state;\r\n    }\r\n    case \"user/loggedOut\": {\r\n      return initialState;\r\n    }\r\n    default:\r\n      return prevState;\r\n  }\r\n}\r\n","const initialState = {};\r\n\r\nexport default function userReducer(prevState = initialState, action) {\r\n  let state = { ...prevState }; //mutate new state not prevState\r\n\r\n  switch (action.type) {\r\n    case \"user/reorderProject\":\r\n      /* Currently this triggers re-render of stages & tasks */\r\n      /* This is unnecessary and may be optimized */\r\n      const { sourceIndex, hoverIndex } = action.payload;\r\n      const projects = [...state.projects];\r\n      projects.splice(hoverIndex, 0, projects.splice(sourceIndex, 1)[0]);\r\n      return { ...state, projects: projects };\r\n\r\n    case \"user/created\":\r\n      state = action.payload;\r\n      state.flag = \"EMAIL_CONFIRMATION\"; //TODO: use me\r\n      return state;\r\n\r\n    case \"user/loggedIn\":\r\n      state = action.payload;\r\n      state.flag = \"LOGGED_IN\";\r\n      return state;\r\n\r\n    case \"user/failedLogin\":\r\n      state = { flag: \"FAILED_LOGIN\" };\r\n      return state;\r\n\r\n    case \"user/loggedOut\":\r\n      state = { flag: \"LOGGED_OUT\" };\r\n      return state;\r\n\r\n    case \"user/deleted\": // currently not in use\r\n      state = { flag: \"DELETED\" };\r\n      return state;\r\n\r\n    case \"project/created\":\r\n      state.projects = state.projects.concat(action.payload.id);\r\n      return state;\r\n\r\n    case \"project/deleted\":\r\n      state.projects = state.projects.filter(\r\n        (project) => project !== action.payload.id\r\n      );\r\n      return state;\r\n\r\n    default:\r\n      return prevState;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport projectReducer from \"./projectReducer\";\r\nimport userReducer from \"./userReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  project: projectReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\r\nimport { createStore } from \"redux\";\r\nimport App from \"./components/App\";\r\nimport Login from \"./components/Login\";\r\nimport HomePage from \"./components/Pages/HomePage\";\r\nimport LogoutPage from \"./components/Pages/LogoutPage\";\r\nimport ProjectPage from \"./components/Pages/ProjectPage\";\r\nimport SignupPage from \"./components/Pages/SignupPage\";\r\nimport UnsavedProjectPage from \"./components/Pages/UnsavedProjectPage\";\r\nimport UserPage from \"./components/Pages/UserPage\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport rootReducer from \"./state/rootReducer\";\r\nimport \"./styles/index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={createStore(rootReducer)}>\r\n      <BrowserRouter>\r\n        <Routes>\r\n          <Route path=\"/\" element={<App />}>\r\n            <Route index element={<HomePage />} />\r\n            <Route path=\"signup\" element={<SignupPage />} />\r\n            <Route path=\"login\" element={<Login />} />\r\n            <Route path=\"logout\" element={<LogoutPage />} />\r\n            <Route path=\"user/:userId\" element={<UserPage />} />\r\n            <Route path=\"project/:projectId\" element={<ProjectPage />} />\r\n            <Route path=\"unsavedproject\" element={<UnsavedProjectPage />} />\r\n            <Route path=\"*\" element={<HomePage />} />\r\n          </Route>\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}